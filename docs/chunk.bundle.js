(window.webpackJsonp=window.webpackJsonp||[]).push([[1],[,,,,function(t,e,i){"use strict";i.r(e);var n,r,o=i(21),s=i(19),a=i(20),h=i(23);function c(t,e,i){var n=r.call(this)||this;return n.tiling=t,n.a=e,n.b=i,n}var u,p,l=((n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(c,r=h.a),c.prototype.getVertex=function(t){return this.v[t].add(this.xt.scale(this.a)).add(this.yt.scale(this.b))},c);function g(t,e,i){var n=p.call(this,t,e,i)||this;return n.v=[new s.a(1,0),new s.a(n.tiling.x+1,n.tiling.y),new s.a(n.tiling.x,n.tiling.y)],n.xt=new s.a(1,0),n.yt=new s.a(n.tiling.x,n.tiling.y),n}var f,d,y=((u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(g,p=l),g.prototype.numSides=function(){return 3},g.prototype.getOpposite=function(t){switch(t){case 0:return new a.a(new x(this.tiling,this.a+1,this.b),2);case 1:return new a.a(new x(this.tiling,this.a,this.b+1),0);case 2:return new a.a(new x(this.tiling,this.a,this.b),1);default:throw new Error("Called getOpposite() on a DownTriangle with invalid i="+t)}},g);function w(t,e,i){var n=d.call(this,t,e,i)||this;return n.v=[new s.a(0,0),new s.a(1,0),new s.a(n.tiling.x,n.tiling.y)],n.xt=new s.a(1,0),n.yt=new s.a(n.tiling.x,n.tiling.y),n}var m,v,x=((f=function(t,e){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}f(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(w,d=l),w.prototype.numSides=function(){return 3},w.prototype.getOpposite=function(t){switch(t){case 0:return new a.a(new y(this.tiling,this.a,this.b-1),1);case 1:return new a.a(new y(this.tiling,this.a,this.b),2);case 2:return new a.a(new y(this.tiling,this.a-1,this.b),0);default:throw new Error("Called getOpposite() on a UpTriangle with invalid i="+t)}},w),b=((m=function(t,e){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}m(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(_,v=o.a),_.prototype.getOriginPolygon=function(){return new x(this,0,0)},_.prototype.fromParameters=function(t){var e=t[0],i=t[1]*Math.PI/180;return new _(e*Math.cos(i),e*Math.sin(i))},_.prototype.fromAngles=function(t){var e=t[0]*Math.PI/180,i=t[1]*Math.PI/180;return new _(Math.tan(e)/(Math.tan(i)+Math.tan(e)),Math.tan(e)*Math.tan(i)/(Math.tan(i)+Math.tan(e)))},_.prototype.toString=function(){return"TriangleTiling("+this.x+", "+this.y+")"},_);function _(t,e){var i=v.call(this)||this;return i.x=t,i.y=e,i}e.default=b},function(t,e,i){"use strict";i.r(e),i.d(e,"default",(function(){return c}));var n=i(24),r=i.n(n);function o(t){this.paper=t}var s=(o.prototype.getWidth=function(){return this.paper.width},o.prototype.getHeight=function(){return this.paper.height},o.prototype.setBackgroundColor=function(t){this.paper.canvas.style.backgroundColor=t},o.prototype.setViewBox=function(t){this.paper.setViewBox(t.getX(),t.getY(),t.getWidth(),t.getHeight(),!1)},o.prototype.hexColor=function(t){var e=r.a.color(t);if(e.error)throw new Error("Error: invalid color");return e.hex},o),a=i(22),h=i(27);function c(t){var e=window.innerWidth,i=window.innerHeight,n=r()(0,0,e,i),o=new s(n);return o.setBackgroundColor(a.a.backgroundColor),window.frame=new h.a(t.getOriginPolygon(),o),window.frame}},function(t,e,i){"use strict";i.r(e),function(t){i.d(e,"default",(function(){return h}));var n=i(30),r=i(31),o=i(5),s=i(32);function a(e,i){var n=t("input[name="+i+"]").parent(".input-group").parent(".form-group");n.removeClass("has-success"),n.addClass("has-feedback has-error"),n.children(".input-group").children(".glyphicon").removeClass("glyphicon-ok"),n.children(".input-group").children(".glyphicon").addClass("glyphicon-remove"),t("#error-messages").append('<span id="'+i+'">'+e+"</span><br>")}function h(e){switch(e){case"hexagon-triangle":window.currentFrame=Object(o.default)(new r.a);break;case"octagon-square":window.currentFrame=Object(o.default)(new s.a);break;default:!function(e){var i,r,s,h=n.a[e];t("#error-messages").empty(),t("#my-modal-label").html(h.name),t("#modal-form").html((r=e,s='<p class="help-block">'+(i=h).message+"</p>","set-iters"===r&&(s+="The current number of iterations is <b>"+window.currentFrame.trajLayer.L+"</b>."),i.parameters.forEach((function(t){s+='<div class="form-group">',s+='<div class="input-group">',s+='<span class="input-group-addon">',s+=t.name,s+="</span>",s+='<input name = "',s+=t.id,s+='" type="text" class="form-control" placeholder="',s+=t.placeholder+'">',s+='<span class="glyphicon form-control-feedback"></span>',s+="</div>",s+="</div>"})),s)),t("#modal-form-submit").on("click",(function(e){e.preventDefault(),t("#modal-form").submit()})),t("#my-modal").on("hidden.bs.modal",(function(){t("#modal-form").find("input[type=text], textarea").val("")})),t("#modal-form").unbind("submit").on("submit",(function(i){i.preventDefault();var r=!0,s=t(this).serializeArray();if(t("#error-messages").empty(),s.forEach((function(e){var i,n,o,s,c,u,p,l,g=parseFloat(e.value);if(isNaN(g))a(e.name+" must be a real number!",e.name),r=!1;else{var f=function(t,e){for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var n=t[i];if(n.id===e)return n}throw new Error("findParameterByID called when no parameter had ID")}(h.parameters,e.name);c=(s=g)>=(o=f).minInclusive,u=s>o.minExclusive,p=s<=o.maxInclusive,l=s<o.maxExclusive,c&&u&&p&&l?(i=e.name,(n=t("input[name="+i+"]").parent(".input-group").parent(".form-group")).removeClass("has-error"),n.addClass("has-feedback has-success"),n.children(".input-group").children(".glyphicon").removeClass("glyphicon-remove"),n.children(".input-group").children(".glyphicon").addClass("glyphicon-ok"),t("#error-messages > #"+i).remove()):(a(f.placeholder+" is out of bounds!",e.name),r=!1)}})),r){var c=s.map((function(t){return parseFloat(t.value)}));if(n.a[e].newTiling){var u=n.a[e].tiling(c);window.currentFrame=Object(o.default)(u)}else"set-iters"===e&&window.currentFrame.setIterations(c[0]);t("#my-modal").modal("hide")}})),t("#my-modal").modal()}(e)}}}.call(this,i(0))},,,,,,,,,,,,,function(t,e,i){"use strict";function n(t,e,i){this.a=t,this.b=e,this.c=i}var r=(n.prototype.intersect=function(t){var e=this.a*t.b-this.b*t.a;if(0==e)throw new Error("Error: lines do not intersect");return new a((this.b*t.c-this.c*t.b)/e,(this.c*t.a-this.a*t.c)/e)},n),o=(s.prototype.getX=function(){return this.x},s.prototype.getY=function(){return this.y},s.prototype.subtract=function(t){return new s(this.x-t.x,this.y-t.y)},s.prototype.add=function(t){return new s(this.x+t.x,this.y+t.y)},s.prototype.rotate90Clockwise=function(){return new s(this.y,-this.x)},s.prototype.rotate90CounterClockwise=function(){return new s(-this.y,this.x)},s.prototype.dot=function(t){return this.x*t.x+this.y*t.y},s.prototype.scale=function(t){return new s(t*this.x,t*this.y)},s.prototype.normalize=function(){return this.scale(1/this.norm())},s.prototype.neg=function(){return new s(-this.x,-this.y)},s.prototype.toString=function(){return"("+this.x.toString()+", "+this.y.toString()+")"},s.prototype.midpoint=function(t){return new s((this.x+t.x)/2,(this.y+t.y)/2)},s.prototype.join=function(t){return new r(this.y-t.y,t.x-this.x,this.x*t.y-this.y*t.x)},s.prototype.cxConj=function(){return new s(this.x,-this.y)},s.prototype.normSquared=function(){return this.x*this.x+this.y*this.y},s.prototype.norm=function(){return Math.sqrt(this.normSquared())},s.prototype.cxInv=function(){return this.cxConj().scale(1/this.normSquared())},s.prototype.cxMult=function(t){return new s(this.x*t.x-this.y*t.y,this.x*t.y+this.y*t.x)},s);function s(t,e){this.x=t,this.y=e}var a=e.a=o},function(t,e,i){"use strict";var n=i(26),r=(o.prototype.getI=function(){return this.i},o.prototype.end=function(){return this.p.getV(this.i+1)},o.prototype.start=function(){return this.p.getV(this.i)},o.prototype.nextEdge=function(){return new o(this.p,this.i+1)},o.prototype.previousEdge=function(){return new o(this.p,this.i+1)},o.prototype.opposite=function(){return this.p.getO(this.i)},o.prototype.getMidpoint=function(){return this.start().midpoint(this.end())},o.prototype.reflect=function(t){return n.a.reflectIn(this,t)},o.prototype.reflectDir=function(t){return n.a.reflectDir(this,t)},o.prototype.getPolygon=function(){return this.p},o.prototype.toLine=function(){return this.start().join(this.end())},o);function o(t,e){this.p=t,this.i=0<=e?e%this.p.numSides():this.p.numSides()-e%this.p.numSides()}e.a=r},function(t,e,i){"use strict";e.a=function(){}},function(t,e,i){"use strict";e.a={initialDisplayBoxScale:5,nudgeAmt:.015,screenShift:.02,trajectoryEndpointRadius:5,trajectoryIters:100,backgroundColor:"white",polyColor:"lightgrey",polyStrokeColor:"blue",orbitColor:"red",startCircleColor:"green",endCircleColor:"red",draggingCircleColor:"yellow",endTrajectoryColor:"pink",zoomBoxStrokeColor:"orange",directionMap:{up:0,left:1,down:2,right:3,w:0,a:1,s:2,d:3},zoomScaleMap:{i:.9,o:1.1},moveTrajPointsMap:{alt:!1,shift:!0}}},function(t,e,i){"use strict";var n=i(24),r=i.n(n),o=i(25);function s(){this.xValues=[],this.yValues=[],this.startX=null,this.startY=null,this.closed=!1}var a=(s.prototype.moveTo=function(t,e){this.xValues=[],this.yValues=[],this.xValues.push(t),this.yValues.push(e),this.closed=!1,this.startX=t,this.startY=e},s.prototype.lineTo=function(t,e){if(closed)throw new Error("Attempting to manipulate a closed path.");this.xValues.push(t),this.yValues.push(e)},s.prototype.copy=function(){var t=new s;return t.xValues=this.xValues.slice(0),t.yValues=this.yValues.slice(0),t.startX=this.startX,t.startY=this.startY,t.closed=this.closed,t},s.prototype.closePath=function(){if("number"!=typeof this.startX||"number"!=typeof this.startY)throw new Error("Cannot close path that has not been opened");this.closed=!0,this.xValues.push(this.startX),this.yValues.push(this.startY)},s.prototype.toString=function(){for(var t="M"+this.xValues[0].toString()+","+this.yValues[0].toString(),e=1;e<this.xValues.length;e++)t=t+"L"+this.xValues[e].toString()+","+this.yValues[e].toString();return t},s.prototype.getBoundingBox=function(){var t=r.a.pathBBox(this.toString());return new o.a(t.x,t.y2,t.width,t.height)},s),h=i(19),c=i(20),u=(p.prototype.getV=function(t){var e=t%this.numSides();return e<0?this.getVertex(e+this.numSides()):this.getVertex(e)},p.prototype.getEdge=function(t){return new c.a(this,t)},p.prototype.getO=function(t){var e=t%this.numSides();return e<0?this.getOpposite(e+this.numSides()):this.getOpposite(e)},p.prototype.getPath=function(){var t=new a,e=this.getVertex(0);t.moveTo(e.getX(),e.getY());for(var i=1;i<this.numSides();i++)e=this.getVertex(i),t.lineTo(e.getX(),e.getY());return t.closePath(),t},p.prototype.getCenterOfMass=function(){for(var t=0,e=0,i=this.numSides(),n=0;n<i;n++){var r=this.getVertex(n);t+=r.getX(),e+=r.getY()}return new h.a(t/i,e/i)},p);function p(){}e.a=u},,function(t,e,i){"use strict";var n=(r.prototype.getX=function(){return this.x},r.prototype.getY=function(){return this.y},r.prototype.getWidth=function(){return this.width},r.prototype.getHeight=function(){return this.height},r.prototype.getCenterX=function(){return this.getMinX()+this.width/2},r.prototype.getCenterY=function(){return this.getMinY()+this.height/2},r.prototype.getMinX=function(){return this.x},r.prototype.getMinY=function(){return this.y-this.height},r);function r(t,e,i,n){this.x=t,this.y=e,this.width=i,this.height=n}e.a=n},function(t,e,i){"use strict";var n={triangleSign:function(t,e,i){var r=e.getX()-t.getX(),o=e.getY()-t.getY(),s=i.getX()-t.getX(),a=r*(i.getY()-t.getY())-o*s;return n.signum(a)},rightOf:function(t,e){return 0<n.triangleSign(t.start(),e,t.end())},lengthSquared:function(t){return(t.start().getX()-t.end().getX())*(t.start().getX()-t.end().getX())+(t.start().getY()-t.end().getY())*(t.start().getY()-t.end().getY())},reflectIn:function(t,e){var i=e.subtract(t.start()),n=t.end().subtract(t.start());return i.cxMult(n.cxConj()).cxConj().cxMult(n).scale(1/n.normSquared()).add(t.start())},reflectDir:function(t,e){var i=t.end().subtract(t.start());return e.cxMult(i.cxConj()).cxConj().cxMult(i).scale(1/i.normSquared())},signum:function(t){return 0===t?0:0<t?1:-1}};e.a=n},function(t,e,i){"use strict";(function(t){var n=i(22),r=i(34),o=i(28),s=i.n(o),a=i(19),h=i(29),c=i(25),u=i(33),p=(l.prototype.move=function(t,e){switch(function(t){if(!Object.prototype.hasOwnProperty.call(n.a.directionMap,t))throw new Error("Invalid combo: "+t)}(e),n.a.directionMap[e]){case 0:this.d.tm.shiftUp(1);break;case 1:this.d.tm.shiftRight(-1);break;case 2:this.d.tm.shiftUp(-1);break;case 3:this.d.tm.shiftRight(1);break;default:throw new Error("Error: invalid direction")}this.polyLayer.render2(),this.trajLayer.render2()},l.prototype.zoom=function(t,e){switch(function(t){if(!Object.prototype.hasOwnProperty.call(n.a.zoomScaleMap,t)&&"r"!==t)throw new Error("Invalid combo: "+t)}(e),e){case"r":this.d.tm.setDisplayBox(this.initialDisplayBox);break;default:this.d.tm.scale(n.a.zoomScaleMap[e])}this.polyLayer.render2(),this.trajLayer.render2()},l.prototype.setZoomBox=function(){this.zoomBox=this.d.component.paper.rect(0,0,0,0)},l.prototype.moveTrajPoints=function(t,e){var i=e.split("+"),r=2===i.length;switch(2===i.length?n.a.directionMap[i[1]]:n.a.directionMap[i[0]]){case 0:this.trajLayer.shiftEndPointUp(n.a.nudgeAmt,r);break;case 1:this.trajLayer.shiftEndPointRight(-n.a.nudgeAmt,r);break;case 2:this.trajLayer.shiftEndPointUp(-n.a.nudgeAmt,r);break;case 3:this.trajLayer.shiftEndPointRight(n.a.nudgeAmt,r);break;default:throw new Error("Error: invalid direction")}this.trajLayer.render()},l.prototype.mouseEvent=function(t){switch(t.type){case"mousedown":t.ctrlKey&&(this.fixX=t.clientX,this.fixY=t.clientY,this.zoomBox=this.d.component.paper.rect(this.fixX,this.fixY,0,0),this.zoomBox.attr({stroke:n.a.zoomBoxStrokeColor}));break;case"mousemove":if(null!==this.zoomBox){if(!this.fixX||!this.fixY)return;var e=t.clientX,i=t.clientY,r=this.fixX>e?e:this.fixX,o=this.fixY>i?i:this.fixY,s=this.fixX>e?this.fixX:e,h=this.fixY>i?this.fixY:i;this.zoomBox.attr({x:r,y:o,width:s-r,height:h-o})}break;case"mouseup":if(null!==this.zoomBox){var u=this.d.tm.toMathCoordinates(new a.a(this.zoomBox.attr("x"),this.zoomBox.attr("y"))),p=this.d.tm.toMathCoordinates(new a.a(this.zoomBox.attr("x")+this.zoomBox.attr("width"),this.zoomBox.attr("y")+this.zoomBox.attr("height"))),l=new c.a(u.getX(),p.getY(),p.getX()-u.getX(),p.getY()-u.getY());this.d.tm.setDisplayBox(l),this.trajLayer.render2(),this.polyLayer.render2(),this.zoomBox.remove(),this.zoomBox=null}}},l.prototype.toggleHelpBox=function(){"true"===t("#my-modal").attr("aria-hidden")&&t("#help-popup").fadeToggle()},l.prototype.setIterations=function(t){this.trajLayer.setIterations(t),this.trajLayer.render()},l);function l(t,e){this.d=new r.a(e,t,this),this.d.tm.setDisplayBox(t.getPath().getBoundingBox()),this.d.tm.scale(n.a.initialDisplayBoxScale),this.initialDisplayBox=this.d.tm.getDisplayBox(),this.polyLayer=new h.a(this.d),this.polyLayer.render(),this.zoomBox=null,this.trajLayer=new u.a(this.d),this.trajLayer.render(),s.a.bind("up",this.move.bind(this)),s.a.bind("left",this.move.bind(this)),s.a.bind("down",this.move.bind(this)),s.a.bind("right",this.move.bind(this)),s.a.bind("o",this.zoom.bind(this)),s.a.bind("i",this.zoom.bind(this)),s.a.bind("r",this.zoom.bind(this)),s.a.bind("w",this.moveTrajPoints.bind(this)),s.a.bind("a",this.moveTrajPoints.bind(this)),s.a.bind("s",this.moveTrajPoints.bind(this)),s.a.bind("d",this.moveTrajPoints.bind(this)),s.a.bind("shift+w",this.moveTrajPoints.bind(this)),s.a.bind("shift+a",this.moveTrajPoints.bind(this)),s.a.bind("shift+s",this.moveTrajPoints.bind(this)),s.a.bind("shift+d",this.moveTrajPoints.bind(this)),s.a.bind("esc",this.toggleHelpBox.bind(this)),document.onmousedown=this.mouseEvent.bind(this),document.onmouseup=this.mouseEvent.bind(this),document.onmousemove=this.mouseEvent.bind(this)}e.a=p}).call(this,i(0))},,function(t,e,i){"use strict";var n=i(22),r=(o.prototype.render=function(){this.p=this.d.component.paper.path(this.d.p.getPath().toString()),this.p.transform(this.d.tm.transformString()),this.p.attr({fill:n.a.polyColor,stroke:n.a.polyStrokeColor})},o.prototype.render2=function(){if(null===this.p)throw new Error("Cannot call render2 without first calling render");this.p.transform(""),this.p.transform(this.d.tm.transformString())},o);function o(t){this.d=t,this.p=null}e.a=r},function(t,e,i){"use strict";var n,r,o=i(19),s=i(20),a=i(23);function h(t,e,i){var n=r.call(this)||this;return n.tiling=t,n.a=e,n.b=i,n.v=[new o.a(0,0),new o.a(n.tiling.t,0),new o.a(1,0),new o.a(1,1),new o.a(1-n.tiling.t,1),new o.a(0,1)],n.xt=new o.a(1,0),n.yt=new o.a(1-n.tiling.t,1),n}var c,u,p=((n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(h,r=a.a),h.prototype.numSides=function(){return 6},h.prototype.getVertex=function(t){return this.v[t].add(this.xt.scale(this.a)).add(this.yt.scale(this.b))},h.prototype.getOpposite=function(t){switch(t){case 0:return new s.a(new h(this.tiling,this.a,this.b-1),3);case 1:return new s.a(new h(this.tiling,this.a+1,this.b-1),4);case 2:return new s.a(new h(this.tiling,this.a+1,this.b),5);case 3:return new s.a(new h(this.tiling,this.a,this.b+1),0);case 4:return new s.a(new h(this.tiling,this.a-1,this.b+1),1);case 5:return new s.a(new h(this.tiling,this.a-1,this.b),2);default:throw new Error("Called getOpposite() with invalid i.")}},h),l=i(21);function g(t){var e=u.call(this)||this;return e.t=t,e}var f,d,y=((c=function(t,e){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}c(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(g,u=l.a),g.prototype.getOriginPolygon=function(){return new p(this,0,0)},g.prototype.toString=function(){return"BrickTiling "+this.t.toString()},g.prototype.fromParameters=function(t){return new g(t[0])},g),w=i(22);function m(t,e,i){var n=d.call(this)||this;return n.tiling=t,n.a=e,n.b=i,n.v=[new o.a(0,0),new o.a(1,0),new o.a(n.tiling.x+1,n.tiling.y),new o.a(n.tiling.x,n.tiling.y)],n.xt=new o.a(1,0),n.yt=new o.a(n.tiling.x,n.tiling.y),n}var v,x,b=((f=function(t,e){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}f(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(m,d=a.a),m.prototype.numSides=function(){return 4},m.prototype.getVertex=function(t){return this.v[t].add(this.xt.scale(this.a)).add(this.yt.scale(this.b))},m.prototype.getOpposite=function(t){switch(t){case 0:return new s.a(new m(this.tiling,this.a,this.b-1),2);case 1:return new s.a(new m(this.tiling,this.a+1,this.b),3);case 2:return new s.a(new m(this.tiling,this.a,this.b+1),0);case 3:return new s.a(new m(this.tiling,this.a-1,this.b),1);default:throw new Error("Called getOpposite() with invalid i.")}},m);function _(t,e){var i=x.call(this)||this;return i.x=t,i.y=e,i}var O,P,j=((v=function(t,e){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}v(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(_,x=l.a),_.prototype.getOriginPolygon=function(){return new b(this,0,0)},_.prototype.toString=function(){return"ParallelogramTiling "+this.x.toString()+" "+this.y.toString()},_.prototype.fromParameters=function(t){var e=t[0],i=t[1];return new _(e*Math.cos(i*Math.PI/180),e*Math.sin(i*Math.PI/180))},_),I=i(4);function S(t,e,i){var n=P.call(this)||this;return n.tiling=t,n.a=e,n.b=i,n.xt=new o.a(n.tiling.m,n.tiling.n),n.yt=new o.a(-n.tiling.n,n.tiling.m),n}var E,T,C=((O=function(t,e){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}O(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(S,P=a.a),S.prototype.translate=function(t,e){return new o.a(t+this.a*this.tiling.m-this.b*this.tiling.n,e+this.a*this.tiling.n+this.b*this.tiling.m)},S.prototype.getVertex=function(t){return this.v[t].add(this.xt.scale(this.a)).add(this.yt.scale(this.b))},S);function B(t,e,i){var n=T.call(this,t,e,i)||this;return n.v=[new o.a(n.tiling.m,0),new o.a(n.tiling.m+n.tiling.n,0),new o.a(n.tiling.m+n.tiling.n,n.tiling.n),new o.a(n.tiling.m,n.tiling.n)],n}var Y,M,X=((E=function(t,e){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}E(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(B,T=C),B.prototype.numSides=function(){return 4},B.prototype.getOpposite=function(t){switch(t){case 0:return new s.a(new N(this.tiling,this.a,this.b-1),4);case 1:return new s.a(new N(this.tiling,this.a+1,this.b-1),6);case 2:return new s.a(new N(this.tiling,this.a+1,this.b),0);case 3:return new s.a(new N(this.tiling,this.a,this.b),2);default:throw new Error("Called getOpposite() with invalid i.")}},B);function V(t,e,i){var n=M.call(this,t,e,i)||this;return n.v=[new o.a(0,0),new o.a(n.tiling.n,0),new o.a(n.tiling.m,0),new o.a(n.tiling.m,n.tiling.n),new o.a(n.tiling.m,n.tiling.m),new o.a(n.tiling.m-n.tiling.n,n.tiling.m),new o.a(0,n.tiling.m),new o.a(0,n.tiling.m-n.tiling.n)],n}var k,L,N=((Y=function(t,e){return(Y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}Y(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(V,M=C),V.prototype.numSides=function(){return 8},V.prototype.getOpposite=function(t){switch(t){case 0:return new s.a(new X(this.tiling,this.a-1,this.b),2);case 1:return new s.a(new V(this.tiling,this.a,this.b-1),5);case 2:return new s.a(new X(this.tiling,this.a,this.b),3);case 3:return new s.a(new V(this.tiling,this.a+1,this.b),7);case 4:return new s.a(new X(this.tiling,this.a,this.b+1),4);case 5:return new s.a(new V(this.tiling,this.a,this.b+1),1);case 6:return new s.a(new X(this.tiling,this.a-1,this.b+1),1);case 7:return new s.a(new V(this.tiling,this.a-1,this.b),3);default:throw new Error("Called getOpposite() with invalid i.")}},V);function q(t,e){var i=L.call(this)||this;if(e<t)i.m=t,i.n=e;else{if(!(t<e))throw new Error("called new TwoSquareTiling(length1,length2) with length1 = length2");i.m=e,i.n=t}return i}var A=((k=function(t,e){return(k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}k(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(q,L=l.a),q.prototype.toString=function(){return"TwoSquareTiling "+this.m+" "+this.n},q.prototype.getOriginPolygon=function(){return new N(this,0,0)},q.prototype.fromParameters=function(t){var e=t[0],i=t[1];return e!==i?new q(e,i):new y(0)},q),z={"set-iters":{name:"Set Iterations",message:"This sets the number of iterations computed, N. The default is "+w.a.trajectoryIters+". We won't enforce a maximum, but even 10,000 takes a while.",parameters:[{name:"Iterations",placeholder:"N",id:"N",minInclusive:0,minExclusive:0,maxInclusive:Number.POSITIVE_INFINITY,maxExclusive:Number.POSITIVE_INFINITY}],newTiling:!1,tiling:function(){throw new Error("no tiling")}},parallelogram:{name:"Parallelogram Tiling",message:"This window sets the tiling to the standard tiling by parallelograms with  sides of length 1 and L, and an angle &#952; measured in degrees.",parameters:[{name:"Length",placeholder:"L",id:"L",minInclusive:0,minExclusive:0,maxInclusive:Number.POSITIVE_INFINITY,maxExclusive:Number.POSITIVE_INFINITY},{name:"Angle",placeholder:"&#952;",id:"theta",minInclusive:0,minExclusive:0,maxInclusive:180,maxExclusive:180}],newTiling:!0,tiling:j.prototype.fromParameters},triangle:{name:"Triangle Tiling",message:"This window sets the tiling to the standard tiling by triangulated parallelograms with sides of length 1 and L, and an angle &#952; measured in  degrees. The diagonal is opposite &#952;.",parameters:[{name:"Length",placeholder:"L",id:"L",minInclusive:0,minExclusive:0,maxInclusive:Number.POSITIVE_INFINITY,maxExclusive:Number.POSITIVE_INFINITY},{name:"Angle",placeholder:"&#952;",id:"theta",minInclusive:0,minExclusive:0,maxInclusive:180,maxExclusive:180}],newTiling:!0,tiling:I.default.prototype.fromParameters},"triangle-angles":{name:"Triangle Tiling",message:"This window sets the tiling to the standard tiling by triangulated parallelograms with angles &#966; and &#952; (both measured in degrees), and a base  length of 1. The diagonal is opposite &#952;.",parameters:[{name:"Angle &#966;",placeholder:"&#966;",id:"phi",minInclusive:0,minExclusive:0,maxInclusive:180,maxExclusive:180},{name:"Angle &#952;",placeholder:"&#952;",id:"theta",minInclusive:0,minExclusive:0,maxInclusive:180,maxExclusive:180}],newTiling:!0,tiling:I.default.prototype.fromAngles},brick:{name:"Brick Tiling",message:"This window constructs the tiling by square bricks with offset T, a real number between zero and one.",parameters:[{name:"Offset",placeholder:"T",id:"T",minInclusive:0,minExclusive:Number.NEGATIVE_INFINITY,maxInclusive:1,maxExclusive:Number.POSITIVE_INFINITY}],newTiling:!0,tiling:y.prototype.fromParameters},"two-square":{name:"Two Square Tiling",message:"This window sets the tiling to two-square tiling with side-lengths L<sub>1</sub> and L<sub>2</sub>.",parameters:[{name:"Length 1",placeholder:"L_1",id:"L_1",minInclusive:0,minExclusive:0,maxInclusive:Number.POSITIVE_INFINITY,maxExclusive:Number.POSITIVE_INFINITY},{name:"Length 2",placeholder:"L_2",id:"L_2",minInclusive:0,minExclusive:0,maxInclusive:Number.POSITIVE_INFINITY,maxExclusive:Number.POSITIVE_INFINITY}],newTiling:!0,tiling:A.prototype.fromParameters}};e.a=z},function(t,e,i){"use strict";var n,r,o=i(19),s=i(23);function a(t,e,i){var n=r.call(this)||this;return n.tiling=t,n.a=e,n.b=i,n.xt=new o.a(2,0),n.yt=new o.a(-1,Math.sqrt(3)),n}var h,c,u=((n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(a,r=s.a),a.prototype.getVertex=function(t){return this.v[t].add(this.xt.scale(this.a)).add(this.yt.scale(this.b))},a),p=i(20);function l(t,e,i){var n=c.call(this,t,e,i)||this;return n.v=[new o.a(1,0),new o.a(1.5,Math.sqrt(3)/2),new o.a(.5,Math.sqrt(3)/2)],n}var g,f,d=((h=function(t,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}h(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(l,c=u),l.prototype.numSides=function(){return 3},l.prototype.getOpposite=function(t){switch(t){case 0:return new p.a(new O(this.tiling,this.a+1,this.b),2);case 1:return new p.a(new O(this.tiling,this.a+1,this.b+1),4);case 2:return new p.a(new O(this.tiling,this.a,this.b),0);default:throw new Error("Called getOpposite() on a HexDownTriangle with invalid i="+t)}},l);function y(t,e,i){var n=f.call(this,t,e,i)||this;return n.v=[new o.a(1,0),new o.a(.5,-Math.sqrt(3)/2),new o.a(1.5,-Math.sqrt(3)/2)],n}var w,m,v=((g=function(t,e){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}g(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(y,f=u),y.prototype.numSides=function(){return 3},y.prototype.getOpposite=function(t){switch(t){case 0:return new p.a(new O(this.tiling,this.a,this.b),5);case 1:return new p.a(new O(this.tiling,this.a,this.b-1),1);case 2:return new p.a(new O(this.tiling,this.a+1,this.b),3);default:throw new Error("Called getOpposite() on a HexUpTriangle with invalid i="+t)}},y);function x(t,e,i){var n=m.call(this,t,e,i)||this;return n.v=[new o.a(1,0),new o.a(.5,Math.sqrt(3)/2),new o.a(-.5,Math.sqrt(3)/2),new o.a(-1,0),new o.a(-.5,-Math.sqrt(3)/2),new o.a(.5,-Math.sqrt(3)/2)],n}var b,_,O=((w=function(t,e){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}w(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(x,m=u),x.prototype.numSides=function(){return 6},x.prototype.getOpposite=function(t){switch(t){case 0:return new p.a(new d(this.tiling,this.a,this.b),2);case 1:return new p.a(new v(this.tiling,this.a,this.b+1),1);case 2:return new p.a(new d(this.tiling,this.a-1,this.b),0);case 3:return new p.a(new v(this.tiling,this.a-1,this.b),2);case 4:return new p.a(new d(this.tiling,this.a-1,this.b-1),1);case 5:return new p.a(new v(this.tiling,this.a,this.b),0);default:throw new Error("Called getOpposite() on a Hexagon with invalid i="+t)}},x),P=i(21),j=((b=function(t,e){return(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}b(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(I,_=P.a),I.prototype.getOriginPolygon=function(){return new O(this,0,0)},I.prototype.toString=function(){return"HexagonTriangleTiling"},I.prototype.fromParameters=function(){return console.warn("HexagonTriangleTiling ignores params"),new I},I);function I(){return null!==_&&_.apply(this,arguments)||this}e.a=j},function(t,e,i){"use strict";var n,r,o=i(19),s=i(23);function a(t,e,i){var n=r.call(this)||this;return n.tiling=t,n.a=e,n.b=i,n.xt=new o.a(2+Math.sqrt(2),-2-Math.sqrt(2)),n.yt=new o.a(2+Math.sqrt(2),2+Math.sqrt(2)),n}var h,c,u=((n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(a,r=s.a),a.prototype.getVertex=function(t){return this.v[t].add(this.xt.scale(this.a)).add(this.yt.scale(this.b))},a),p=i(20);function l(t,e,i){var n=c.call(this,t,e,i)||this;return n.v=[new o.a(0,0),new o.a(0,-2),new o.a(2,-2),new o.a(2,0)],n}var g,f,d=((h=function(t,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}h(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(l,c=u),l.prototype.numSides=function(){return 4},l.prototype.getOpposite=function(t){switch(t){case 0:return new p.a(new v(this.tiling,this.a,this.b-1),2);case 1:return new p.a(new v(this.tiling,this.a+1,this.b-1),4);case 2:return new p.a(new v(this.tiling,this.a+1,this.b),6);case 3:return new p.a(new v(this.tiling,this.a,this.b),0);default:throw new Error("Called getOpposite() on a Octasquare with invalid i="+t)}},l);function y(t,e,i){var n=f.call(this,t,e,i)||this;return n.v=[new o.a(0,0),new o.a(2,0),new o.a(2+Math.sqrt(2),Math.sqrt(2)),new o.a(2+Math.sqrt(2),2+Math.sqrt(2)),new o.a(2,2+2*Math.sqrt(2)),new o.a(0,2+2*Math.sqrt(2)),new o.a(-Math.sqrt(2),2+Math.sqrt(2)),new o.a(-Math.sqrt(2),Math.sqrt(2))],n}var w,m,v=((g=function(t,e){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}g(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(y,f=u),y.prototype.numSides=function(){return 8},y.prototype.getOpposite=function(t){switch(t){case 0:return new p.a(new d(this.tiling,this.a,this.b),3);case 1:return new p.a(new y(this.tiling,this.a+1,this.b),5);case 2:return new p.a(new d(this.tiling,this.a,this.b+1),0);case 3:return new p.a(new y(this.tiling,this.a,this.b+1),7);case 4:return new p.a(new d(this.tiling,this.a-1,this.b+1),1);case 5:return new p.a(new y(this.tiling,this.a-1,this.b),1);case 6:return new p.a(new d(this.tiling,this.a-1,this.b),2);case 7:return new p.a(new y(this.tiling,this.a,this.b-1),3);default:throw new Error("Called getOpposite() on a Octagon with invalid i="+t)}},y),x=i(21),b=((w=function(t,e){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}w(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(_,m=x.a),_.prototype.getOriginPolygon=function(){return new v(this,0,0)},_.prototype.toString=function(){return"OctagonSquareTiling"},_.prototype.fromParameters=function(){return console.warn("OctagonSquareTiling.fromParameters ignores parameters"),new _},_);function _(){return null!==m&&m.apply(this,arguments)||this}e.a=b},function(t,e,i){"use strict";var n=i(22),r=i(26);function o(t,e,i){for(this.s=e,this.dir=i.subtract(this.s).normalize(),this.edge=t.getEdge(0);r.a.triangleSign(i,this.edge.start(),this.s)<=0;)if(this.edge=this.edge.nextEdge(),0===this.edge.getI())throw new Error("WHAT IS HAPPENING");for(;0<r.a.triangleSign(i,this.edge.end(),this.s);)this.edge=this.edge.nextEdge()}var s=(o.prototype.getPolygon=function(){return this.edge.getPolygon()},o.prototype.next=function(){var t=this.edge.getI();this.edge=this.edge.nextEdge();for(var e=this.s.add(this.dir);0<=r.a.triangleSign(this.s,this.edge.end(),e);)if(this.edge=this.edge.nextEdge(),this.edge.getI()===t)throw new Error("Failed to continue path due to numerical errors!");return this.s=this.s.join(e).intersect(this.edge.toLine()),this.dir=this.edge.reflectDir(this.dir).neg(),this.edge=this.edge.opposite(),this.s},o),a=i(19),h=(c.prototype.computeTrajectory=function(){this.clearLayerObjects(),this.trajectoryPath=null,this.polygonPathSet=[],this.circles=[],this.traj=[],this.polys=[],this.traj.push(this.s);for(var t=new s(this.d.p,this.s,this.e),e=!0;this.traj.length<=this.L&&e;){var i;this.polys.push(t.getPolygon()),(i=t.next())?this.traj.push(i):e=!1}},c.prototype.setIterations=function(t){this.L=t},c.prototype.render=function(){var t=this;this.computeTrajectory(),this.polys.forEach((function(e){var i=t.d.component.paper.path(e.getPath().toString());i.attr({stroke:n.a.polyStrokeColor}),i.transform(t.d.tm.transformString()),t.polygonPathSet.push(i)}));for(var e=this.traj[0],i="M"+e.getX().toString()+","+e.getY().toString(),r=1;r<this.traj.length;r++){var o=this.traj[r];i+="L"+o.getX().toString()+","+o.getY().toString()}if(this.trajectoryPath=this.d.component.paper.path(i),this.trajectoryPath.attr({stroke:n.a.orbitColor}),this.trajectoryPath.transform(this.d.tm.transformString()),1<this.traj.length){var s=this.traj[this.traj.length-1],a=this.d.tm.toScreenCoordinates(s),h=this.d.component.paper.ellipse(a.getX(),a.getY(),this.R,this.R);h.attr({fill:n.a.endTrajectoryColor}),this.circles.push([h,s])}var c=this.d.tm.toScreenCoordinates(this.s),u=this.d.tm.toScreenCoordinates(this.e),p=this.d.component.paper.ellipse(c.getX(),c.getY(),this.R,this.R),l=this.d.component.paper.ellipse(u.getX(),u.getY(),this.R,this.R);p.attr({fill:n.a.startCircleColor}),l.attr({fill:n.a.endCircleColor}),p.drag(this.dragEvents.move,this.dragEvents.start,this.dragEvents.end),l.drag(this.dragEvents.move,this.dragEvents.start,this.dragEvents.end),p.layer=this,l.layer=this,p.pointObject=this.s,l.pointObject=this.e,p.tm=this.d.tm,l.tm=this.d.tm,p.canEscapePolygon=!1,l.canEscapePolygon=!0,this.circles.push([p,this.s]),this.circles.push([l,this.e])},c.prototype.render2=function(){var t=this;if(!this.trajectoryPath)throw new Error("Called render2() before calling render()");this.polygonPathSet.forEach((function(e){e.transform(""),e.transform(t.d.tm.transformString())})),this.circles.forEach((function(e){var i=t.d.tm.toScreenCoordinates(e[1]);e[0].attr({cx:i.getX(),cy:i.getY()})})),this.trajectoryPath.transform(""),this.trajectoryPath.transform(this.d.tm.transformString())},c.prototype.clearLayerObjects=function(){null!==this.trajectoryPath&&this.trajectoryPath.remove(),this.polygonPathSet.forEach((function(t){t.remove()})),this.circles.forEach((function(t){t[0].undrag(),t[0].remove()}))},c.prototype.shiftEndPointRight=function(t,e){if(e){var i=new a.a(this.s.getX()+t,this.s.getY());this.pointInsideStartPolygon(i)&&(this.s=i)}var n=this.e.getX(),r=this.e.getY();this.e=new a.a(n+t,r)},c.prototype.shiftEndPointUp=function(t,e){if(e){var i=new a.a(this.s.getX(),this.s.getY()-t);this.pointInsideStartPolygon(i)&&(this.s=i)}var n=this.e.getX(),r=this.e.getY();this.e=new a.a(n,r-t)},c.prototype.pointInsideStartPolygon=function(t){for(var e=0;e<this.d.p.numSides();e++){var i=this.d.p.getEdge(e);if(r.a.rightOf(i,t))return!1}return!0},c);function c(t){this.d=t,this.L=n.a.trajectoryIters,this.R=n.a.trajectoryEndpointRadius,this.orbitColor=n.a.orbitColor,this.s=this.d.p.getCenterOfMass();var e=this.d.p.getEdge(0);this.e=e.start().scale(2).add(e.end()).scale(1/3),this.traj=[],this.polys=[],this.trajectoryPath=null,this.polygonPathSet=[],this.circles=[],this.dragEvents={start:function(){return this.preDragFill=this.attr("fill"),this.ox=this.attr("cx"),this.oy=this.attr("cy"),this.attr({fill:n.a.draggingCircleColor}),{}},move:function(t,e){return(this.canEscapePolygon||this.layer.pointInsideStartPolygon(this.tm.toMathCoordinates(new a.a(this.ox+t,this.oy+e))))&&this.attr({cx:this.ox+t,cy:this.oy+e}),{}},end:function(){this.attr({fill:this.preDragFill});var t=this.tm.toMathCoordinates(new a.a(this.attr("cx"),this.attr("cy")));return this.pointObject.x=t.getX(),this.pointObject.y=t.getY(),this.layer.render(),{}}}}e.a=h},function(t,e,i){"use strict";var n=i(25),r=i(22),o=i(19),s=i(24),a=i.n(s);function h(t,e){this.displayBox=t,this.currentTransform=a.a.matrix(1,0,0,0,1,0),this.c=e}var c=(h.prototype.getDisplayBox=function(){return this.displayBox},h.prototype.displayBoxString=function(){return this.displayBox.getX().toString().concat(" ",this.displayBox.getY().toString()," ",this.displayBox.getWidth().toString()," ",this.displayBox.getHeight().toString())},h.prototype.setDisplayBox=function(t){this.displayBox=t,this.updateTransform()},h.prototype.updateTransform=function(){var t=new o.a(this.displayBox.getCenterX(),this.displayBox.getCenterY()),e=a.a.matrix(1,0,0,1,0,0),i=1;0!==this.displayBox.getWidth()&&0!==this.c.getWidth()?i=0!==this.displayBox.getHeight()&&0!==this.c.getHeight()?Math.min(this.c.getWidth()/this.displayBox.getWidth(),this.c.getHeight()/this.displayBox.getHeight()):this.c.getWidth()/this.displayBox.getWidth():0!==this.displayBox.getHeight()&&0!==this.c.getHeight()&&(i=this.c.getHeight()/this.displayBox.getHeight()),e.scale(i,i);var n=new o.a(e.x(t.getX(),t.getY()),e.y(t.getX(),t.getY())),r=-n.getX()+this.c.getWidth()/2,s=-n.getY()+this.c.getHeight()/2;e.translate(r/i,s/i),this.currentTransform=e},h.prototype.toScreenCoordinates=function(t){return new o.a(this.currentTransform.x(t.getX(),t.getY()),this.currentTransform.y(t.getX(),t.getY()))},h.prototype.toMathCoordinates=function(t){var e=this.getInverseTransform();return new o.a(e.x(t.getX(),t.getY()),e.y(t.getX(),t.getY()))},h.prototype.getTransform=function(){return this.currentTransform},h.prototype.getInverseTransform=function(){return this.currentTransform.invert()},h.prototype.transformString=function(){return this.currentTransform.toTransformString()},h.prototype.scale=function(t,e){if(0<t){var i=e||new o.a(this.displayBox.getCenterX(),this.displayBox.getCenterY());this.setDisplayBox(new n.a(t*(this.displayBox.getX()-i.getX())+i.getX(),t*(this.displayBox.getY()-i.getY())+i.getY(),t*this.displayBox.getWidth(),t*this.displayBox.getHeight()))}},h.prototype.shiftUp=function(t){var e=this.displayBox.getHeight()*r.a.screenShift;this.setDisplayBox(new n.a(this.displayBox.getX(),this.displayBox.getY()-t*e,this.displayBox.getWidth(),this.displayBox.getHeight()))},h.prototype.shiftRight=function(t){var e=this.displayBox.getWidth()*r.a.screenShift;this.setDisplayBox(new n.a(this.displayBox.getX()+t*e,this.displayBox.getY(),this.displayBox.getWidth(),this.displayBox.getHeight()))},h);e.a=function(t,e,i){this.component=t,this.tm=new c(new n.a(-2,2,4,4),t),this.p=e,this.frame=i}}]]);